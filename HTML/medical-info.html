<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alertify PH | Medical Info</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="../CSS/medical-info.css" />
</head>

<body>
  <div class="parent-container">
    <h1>Complete Your Medical Information</h1>

    <form id="medicalForm" class="signup-form">
      <input type="text" id="height" placeholder="Height (cm)" required />
      <input type="text" id="weight" placeholder="Weight (kg)" required />
      <input type="text" id="bloodType" placeholder="Blood Type" required />
      <input type="text" id="allergies" placeholder="Allergies" />
      <input type="text" id="conditions" placeholder="Existing Conditions" />
      <input type="text" id="medications" placeholder="Medications" />
      <input type="text" id="emergencyContactName" placeholder="Emergency Contact Name" required />
      <input type="text" id="emergencyContactNumber" placeholder="Emergency Contact Number" required />

      <!-- DNR Section -->
      <div class="dnr-container">
        <label for="dnr">
          Do Not Resuscitate (DNR)
          <span class="tooltip">?
            <span class="tooltip-text">
              A DNR (Do Not Resuscitate) indicates that you do not wish to receive CPR
              or advanced life-saving measures if your heart or breathing stops.
            </span>
          </span>
        </label>
        <input type="checkbox" id="dnr" />
      </div>

      <button type="submit" class="cta">Save & Go to Home</button>
    </form>
  </div>

  <script>
    document.getElementById("medicalForm").addEventListener("submit", function (e) {
      e.preventDefault();

      const medicalInfo = {
        height: document.getElementById("height").value,
        weight: document.getElementById("weight").value,
        bloodType: document.getElementById("bloodType").value,
        allergies: document.getElementById("allergies").value,
        conditions: document.getElementById("conditions").value,
        medications: document.getElementById("medications").value,
        emergencyContactName: document.getElementById("emergencyContactName").value,
        emergencyContactNumber: document.getElementById("emergencyContactNumber").value,
        dnr: document.getElementById("dnr").checked,
      };

      localStorage.setItem("medicalInfo", JSON.stringify(medicalInfo));

      // âœ… Redirect to home page
      window.location.href = "home.html";
    });
  </script>
</body>
</html>
