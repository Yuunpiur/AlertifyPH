<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alertify PH | Profile</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="../CSS/profile.css" />
</head>

<body>
  <nav class="navbar">
    <div class="logo">Alertify PH</div>
    <ul class="nav-links">
      <li><a href="home.html">Home</a></li>
      <li><a href="family.html">Family Members</a></li>
      <li><a href="medical.html">Medical</a></li>
      <li><a href="profile.html" class="active">Profile</a></li>
    </ul>
  </nav>

  <main class="content">
    <section class="profile-section">
      <h1>User Profile</h1>
      <p class="subtitle">Your registered information with Alertify PH</p>

      <div class="profile-card" id="profile-card">
        <div class="profile-item">
          <span class="label">Alertify User ID:</span>
          <span class="value" id="userID">ALTPH-000000</span>
        </div>
        <div class="profile-item">
          <span class="label">First Name:</span>
          <span class="value" id="fname"></span>
        </div>
        <div class="profile-item">
          <span class="label">Middle Initial:</span>
          <span class="value" id="mname"></span>
        </div>
        <div class="profile-item">
          <span class="label">Last Name:</span>
          <span class="value" id="lname"></span>
        </div>
        <div class="profile-item">
          <span class="label">Email:</span>
          <span class="value" id="email"></span>
        </div>
        <div class="profile-item">
          <span class="label">Phone Number:</span>
          <span class="value" id="phone"></span>
        </div>
        <div class="profile-item">
          <span class="label">Watch ID:</span>
          <span class="value" id="watchid"></span>
        </div>
      </div>

      <button class="cta" onclick="editProfile()">Edit Info</button>
    </section>
  </main>

  <script>
    // Retrieve user info from localStorage
    const userData = JSON.parse(localStorage.getItem("userInfo"));

    if (userData) {
      // Optional: generate a simple user ID if not stored
      const userId = "ALTPH-" + Math.floor(100000 + Math.random() * 900000);

      // Fill in the profile fields
      document.getElementById("userID").textContent = userId;
      document.getElementById("fname").textContent = userData.firstName || "N/A";
      document.getElementById("mname").textContent = userData.middleInitial || "N/A";
      document.getElementById("lname").textContent = userData.lastName || "N/A";
      document.getElementById("email").textContent = userData.email || "N/A";
      document.getElementById("phone").textContent = userData.phoneNumber || "N/A";
      document.getElementById("watchid").textContent = userData.watchID || "N/A";
    } else {
      // If no user data found
      document.getElementById("profile-card").innerHTML = `
        <p>No user data found. Please <a href="sign-up.html">sign up</a> first.</p>
      `;
    }

    function editProfile() {
      window.location.href = "sign-up.html";
    }
  </script>
</body>
</html>
